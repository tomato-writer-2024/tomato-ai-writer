# ============================================================================
# 番茄小说AI写作工具 - 环境变量配置文件
# ============================================================================
# 复制此文件为 .env.local 并填写实际配置值
# ============================================================================

# ============================================================================
# 应用基础配置
# ============================================================================

# 应用名称
NEXT_PUBLIC_APP_NAME=番茄小说AI写作助手

# 应用域名（用于生成链接和回调地址）
NEXT_PUBLIC_BASE_URL=https://yourdomain.com

# 环境变量（development/production）
NODE_ENV=production

# ============================================================================
# 数据库配置
# ============================================================================

# PostgreSQL数据库连接字符串
# 格式：postgresql://username:password@host:port/database
# 示例：postgresql://postgres:password123@localhost:5432/tomato_ai
DATABASE_URL=postgresql://username:password@host:5432/database_name

# ============================================================================
# JWT密钥配置
# ============================================================================

# JWT访问Token密钥（请使用强随机字符串，至少32位）
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long

# JWT刷新Token密钥（请使用强随机字符串，至少32位）
JWT_REFRESH_SECRET=your-super-secret-refresh-token-key-at-least-32-characters-long

# ============================================================================
# 邮件服务配置（可选）
# ============================================================================
# 如果不配置邮件服务，系统将自动使用Mock模式（模拟发送成功）

# SMTP服务器地址
# 163邮箱：smtp.163.com
# QQ邮箱：smtp.qq.com
# Gmail：smtp.gmail.com
EMAIL_HOST=smtp.163.com

# SMTP端口
# SSL：465
# TLS：587
EMAIL_PORT=465

# 是否使用SSL加密（true/false）
EMAIL_SECURE=true

# 邮箱账号
EMAIL_USER=your-email@163.com

# 邮箱密码或授权码
# 注意：163和QQ邮箱需要使用授权码，不是登录密码
# 获取方式：
#   - 163邮箱：设置 → POP3/SMTP/IMAP → 开启服务 → 获取授权码
#   - QQ邮箱：设置 → 账户 → POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务 → 生成授权码
EMAIL_PASS=your-email-password-or-authorization-code

# 发件人地址（通常与EMAIL_USER相同）
EMAIL_FROM=your-email@163.com

# ============================================================================
# 微信登录配置（可选）
# ============================================================================
# 如果不配置微信登录，系统将自动使用Mock模式（模拟登录成功）

# 微信开放平台AppID
# 获取方式：前往微信开放平台（open.weixin.qq.com）注册应用并审核通过
WECHAT_APPID=wx1234567890abcdef

# 微信开放平台AppSecret
# 获取方式：在微信开放平台的应用详情中查看
WECHAT_SECRET=your-wechat-app-secret-here

# 是否使用Mock模式（true/false）
#   - true：模拟微信登录（开发测试用）
#   - false：使用真实的微信开放平台API
# 生产环境请设置为false
WECHAT_MOCK_MODE=true

# 微信授权回调地址（需要与微信开放平台配置的一致）
WECHAT_REDIRECT_URI=https://yourdomain.com/auth/wechat/callback

# ============================================================================
# 豆包大模型配置（必需）
# ============================================================================

# 豆包大模型API Key
# 获取方式：前往火山引擎控制台申请
DOUBAO_API_KEY=your-doubao-api-key-here

# 豆包模型选择（可选，默认使用doubao-pro-4k）
# 可选模型：
#   - doubao-pro-4k：Pro版，4K上下文
#   - doubao-pro-32k：Pro版，32K上下文
#   - doubao-pro-128k：Pro版，128K上下文
#   - doubao-lite-4k：Lite版，4K上下文（快速）
DOUBAO_MODEL=doubao-pro-4k

# ============================================================================
# 对象存储配置（可选）
# ============================================================================
# 如果不配置对象存储，系统将使用本地文件系统存储

# S3兼容存储端点
S3_ENDPOINT=https://s3.amazonaws.com

# S3访问密钥ID
S3_ACCESS_KEY=your-s3-access-key-id

# S3访问密钥密码
S3_SECRET_KEY=your-s3-secret-key

# S3存储桶名称
S3_BUCKET=your-bucket-name

# S3存储区域
S3_REGION=us-east-1

# ============================================================================
# 文件上传配置
# ============================================================================

# 最大文件上传大小（单位：字节）
# 默认：10MB (10 * 1024 * 1024)
MAX_FILE_SIZE=10485760

# 允许的文件类型（逗号分隔）
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ============================================================================
# 安全配置
# ============================================================================

# 密码重置Token有效期（单位：分钟）
RESET_TOKEN_EXPIRES_IN=30

# 访问Token有效期（单位：小时）
ACCESS_TOKEN_EXPIRES_IN=24

# 刷新Token有效期（单位：天）
REFRESH_TOKEN_EXPIRES_IN=7

# 密码最小长度
PASSWORD_MIN_LENGTH=8

# ============================================================================
# 限流配置
# ============================================================================

# 每小时最大请求次数
RATE_LIMIT_MAX_REQUESTS_PER_HOUR=100

# API请求限流窗口（单位：秒）
RATE_LIMIT_WINDOW_SECONDS=3600

# ============================================================================
# 支付配置
# ============================================================================

# 支付成功后的跳转地址
PAYMENT_SUCCESS_REDIRECT=/workspace

# 支付失败后的跳转地址
PAYMENT_FAILED_REDIRECT=/payment?failed=true

# ============================================================================
# 日志配置
# ============================================================================

# 日志级别（error/warn/info/debug）
LOG_LEVEL=info

# 是否启用详细日志（true/false）
ENABLE_VERBOSE_LOGGING=false

# ============================================================================
# 第三方服务配置（可选）
# ============================================================================

# Google Analytics ID（可选）
NEXT_PUBLIC_GA_ID=UA-XXXXXXXXX-X

# 百度统计ID（可选）
NEXT_PUBLIC_BAIDU_ANALYTICS_ID=your-baidu-analytics-id

# 客服邮箱
CUSTOMER_SERVICE_EMAIL=support@yourdomain.com

# ============================================================================
# Mock模式配置（开发测试用）
# ============================================================================

# 是否启用邮件Mock模式（true/false）
#   - true：模拟邮件发送（开发测试）
#   - false：真实发送邮件（生产环境）
EMAIL_MOCK_MODE=true

# 是否启用支付Mock模式（true/false）
#   - true：模拟支付成功（开发测试）
#   - false：真实支付流程（生产环境）
PAYMENT_MOCK_MODE=true

# ============================================================================
# 注意事项
# ============================================================================
# 1. 生产环境必须设置强密码和密钥
# 2. 不要将 .env.local 文件提交到版本控制系统
# 3. 定期更换密钥和密码
# 4. 使用HTTPS保护敏感信息传输
# 5. 定期备份数据库
# 6. 监控系统日志和错误
# ============================================================================
