# ============================================================================ #
# 番茄AI写作助手 - 环境变量配置模板
# ============================================================================ #
# 使用说明：
# 1. 复制此文件为 .env.local (开发环境) 或 .env.production (生产环境)
# 2. 填写所有必需的配置项
# 3. ⚠️ 永远不要将 .env.local 或 .env.production 提交到代码仓库
# ============================================================================ #

# ---------------------------------------------------------------------------- #
# 应用基础配置
# ---------------------------------------------------------------------------- #
NODE_ENV=production
NEXT_PUBLIC_APP_NAME=番茄AI写作助手
NEXT_PUBLIC_APP_URL=https://yourdomain.com

# ---------------------------------------------------------------------------- #
# 数据库配置 (PostgreSQL)
# ---------------------------------------------------------------------------- #
# 格式: postgresql://用户名:密码@主机:端口/数据库名
DATABASE_URL=postgresql://your_db_user:your_db_password@your_db_host:5432/tomato_writer

# ---------------------------------------------------------------------------- #
# 超级管理员配置 (首次部署必填)
# ---------------------------------------------------------------------------- #
SUPER_ADMIN_EMAIL=admin@yourdomain.com
SUPER_ADMIN_PASSWORD=YourSecurePassword123!
SUPER_ADMIN_USERNAME=超级管理员

# ---------------------------------------------------------------------------- #
# JWT 密钥配置 (生产环境必须修改)
# ---------------------------------------------------------------------------- #
JWT_SECRET=your_jwt_secret_key_minimum_32_characters_long
JWT_REFRESH_SECRET=your_refresh_token_secret_key_minimum_32_characters_long

# JWT 过期时间
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# ---------------------------------------------------------------------------- #
# AI 集成配置 (豆包大模型)
# ---------------------------------------------------------------------------- #
# 注意：使用 coze-coding-dev-sdk 时，这些配置可能在 SDK 内部管理
# 如需自定义配置，请参考 SDK 文档
NEXT_PUBLIC_AI_PROVIDER=coze
NEXT_PUBLIC_AI_MODEL=doubao-pro

# ---------------------------------------------------------------------------- #
# 对象存储配置 (S3 兼容)
# ---------------------------------------------------------------------------- #
# S3 兼容存储服务的配置
S3_ENDPOINT=https://your-s3-endpoint.com
S3_ACCESS_KEY_ID=your_access_key_id
S3_SECRET_ACCESS_KEY=your_secret_access_key
S3_BUCKET_NAME=your_bucket_name
S3_REGION=your_region

# CDN 配置 (可选)
NEXT_PUBLIC_CDN_URL=https://your-cdn-domain.com

# ---------------------------------------------------------------------------- #
# 支付配置 (支付宝/微信支付)
# ---------------------------------------------------------------------------- #
# 支付宝配置
ALIPAY_APP_ID=your_alipay_app_id
ALIPAY_PRIVATE_KEY=your_alipay_private_key
ALIPAY_PUBLIC_KEY=your_alipay_public_key
ALIPAY_GATEWAY=https://openapi.alipay.com/gateway.do

# 微信支付配置
WECHAT_APP_ID=your_wechat_app_id
WECHAT_MCH_ID=your_wechat_mch_id
WECHAT_API_KEY=your_wechat_api_key
WECHAT_CERT_PATH=/path/to/cert.pem
WECHAT_KEY_PATH=/path/to/key.pem

# 支付回调地址 (生产环境必须配置)
NEXT_PUBLIC_PAYMENT_NOTIFY_URL=https://yourdomain.com/api/payment/notify

# ---------------------------------------------------------------------------- #
# 邮件服务配置 (用于发送通知邮件)
# ---------------------------------------------------------------------------- #
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@yourdomain.com
SMTP_PASSWORD=your_email_password
SMTP_FROM=noreply@yourdomain.com

# ---------------------------------------------------------------------------- #
# 安全配置
# ---------------------------------------------------------------------------- #
# CORS 配置 (允许的前端域名，多个用逗号分隔)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# 速率限制
RATE_LIMIT_WINDOW_MS=900000  # 15分钟
RATE_LIMIT_MAX_REQUESTS=100   # 每个IP最多100次请求

# 文件上传限制
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=.docx,.pdf,.txt,.jpg,.jpeg,.png

# ---------------------------------------------------------------------------- #
# 日志配置
# ---------------------------------------------------------------------------- #
# 日志级别: debug, info, warn, error
LOG_LEVEL=info

# Sentry 错误监控 (可选)
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
SENTRY_ENVIRONMENT=production

# ---------------------------------------------------------------------------- #
# 功能开关
# ---------------------------------------------------------------------------- #
NEXT_PUBLIC_ENABLE_REGISTRATION=true
NEXT_PUBLIC_ENABLE_PAYMENT=true
NEXT_PUBLIC_ENABLE_AI_WRITING=true
NEXT_PUBLIC_ENABLE_EXPORT=true

# ---------------------------------------------------------------------------- #
# 运维配置
# ---------------------------------------------------------------------------- #
# 健康检查端点密钥 (可选，用于监控)
HEALTH_CHECK_SECRET=your_health_check_secret

# 缓存配置
CACHE_TTL_SECONDS=3600  # 1小时

# 定时任务配置
CLEANUP_LOGS_DAYS=30      # 日志保留天数
CLEANUP_TEMP_FILES_HOURS=24  # 临时文件清理间隔

# ---------------------------------------------------------------------------- #
# 第三方服务配置 (可选)
# ---------------------------------------------------------------------------- #
# 数据分析服务 (如 Google Analytics)
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# 客服系统 (如 Intercom, Zendesk)
NEXT_PUBLIC_INTERCOM_APP_ID=your_intercom_app_id

# ---------------------------------------------------------------------------- #
# 开发环境专用 (生产环境请删除)
# ---------------------------------------------------------------------------- #
# 开发模式下的特殊配置
# NEXT_PUBLIC_DEBUG_MODE=false
# NEXT_PUBLIC_ENABLE_TEST_ACCOUNTS=false
