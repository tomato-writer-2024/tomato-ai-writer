# 0成本部署配置检查清单

> 使用本清单快速验证所有配置是否完成，确保番茄小说AI写作工具能够正常运行。

---

## 📦 阶段一：前置准备（30分钟）

### 账号注册清单

| 序号 | 任务 | 是否完成 | 备注 |
|------|------|----------|------|
| 1 | 注册GitHub账号 | □ 是 □ 否 | https://github.com |
| 2 | 注册Vercel账号 | □ 是 □ 否 | https://vercel.com（使用GitHub登录） |
| 3 | 准备邮箱账号（163/QQ/Gmail三选一） | □ 是 □ 否 | 建议选择163邮箱 |
| 4 | 注册豆包账号 | □ 是 □ 否 | https://www.doubao.com |
| 5 | 注册微信开放平台账号 | □ 是 □ 否 | https://open.weixin.qq.com |

**填写信息**：
```
GitHub用户名：_______________
GitHub邮箱：_______________
邮箱账号：_______________（163/QQ/Gmail）
豆包手机号：_______________
```

**阶段一完成标准**：所有5个账号都已注册完成 ✅

---

## 📧 阶段二：邮件服务配置（20分钟）

### 获取授权码清单

#### 163邮箱配置

| 序号 | 任务 | 是否完成 | 配置信息 |
|------|------|----------|----------|
| 1 | 登录163邮箱 | □ 是 □ 否 | https://mail.163.com |
| 2 | 进入"设置" → "POP3/SMTP/IMAP" | □ 是 □ 否 | |
| 3 | 开启"IMAP/SMTP服务" | □ 是 □ 否 | |
| 4 | 获取授权码 | □ 是 □ 否 | 授权码只能查看一次！ |

**163邮箱配置信息**：
```
邮箱地址：_______________@163.com
SMTP服务器：smtp.163.com
端口：465
安全连接：是（SSL）
授权码：_______________（16位，妥善保管）
```

#### QQ邮箱配置

| 序号 | 任务 | 是否完成 | 配置信息 |
|------|------|----------|----------|
| 1 | 登录QQ邮箱 | □ 是 □ 否 | https://mail.qq.com |
| 2 | 进入"设置" → "账户" | □ 是 □ 否 | |
| 3 | 开启"IMAP/SMTP服务" | □ 是 □ 否 | 需要发送短信验证 |
| 4 | 获取授权码 | □ 是 □ 否 | 授权码只能查看一次！ |

**QQ邮箱配置信息**：
```
邮箱地址：_______________@qq.com
SMTP服务器：smtp.qq.com
端口：465
安全连接：是（SSL）
授权码：_______________（16位，妥善保管）
```

#### Gmail配置

| 序号 | 任务 | 是否完成 | 配置信息 |
|------|------|----------|----------|
| 1 | 登录Google账户 | □ 是 □ 否 | https://myaccount.google.com |
| 2 | 开启"两步验证" | □ 是 □ 否 | 必须先开启两步验证 |
| 3 | 生成"应用专用密码" | □ 是 □ 否 | 选择"邮件"和"其他" |
| 4 | 复制应用专用密码 | □ 是 □ 否 | 16位密码，复制时不要空格 |

**Gmail配置信息**：
```
邮箱地址：_______________@gmail.com
SMTP服务器：smtp.gmail.com
端口：587
安全连接：否（STARTTLS）
应用专用密码：_______________（16位，复制时不要空格）
```

**阶段二完成标准**：已完成一种邮箱的授权码获取 ✅

---

## 🔐 阶段三：微信登录配置（1-3天）

### 微信开放平台申请清单

#### 前期准备

| 序号 | 准备事项 | 是否完成 | 备注 |
|------|----------|----------|------|
| 1 | 准备网站名称（4-30字符） | □ 是 □ 否 | 例如：番茄小说AI写作助手 |
| 2 | 准备网站简介（10-120字符） | □ 是 □ 否 | 简要描述功能 |
| 3 | 准备网站图标（108x108像素） | □ 是 □ 否 | PNG/JPG格式，<300KB |
| 4 | 准备网站域名 | □ 是 □ 否 | 例如：tomato-ai-writer.vercel.app |

**填写信息**：
```
网站名称：_______________
网站简介：_______________
网站域名：_______________
```

---

#### 申请步骤

| 序号 | 任务 | 是否完成 | 备注 |
|------|------|----------|------|
| 1 | 登录微信开放平台 | □ 是 □ 否 | https://open.weixin.qq.com |
| 2 | 进入"管理中心" → "创建网站应用" | □ 是 □ 否 | |
| 3 | 填写应用基本信息 | □ 是 □ 否 | 名称、简介、域名、图标等 |
| 4 | 提交审核 | □ 是 □ 否 | |
| 5 | 等待审核（1-3个工作日） | □ 是 □ 否 | 可在平台查看审核状态 |
| 6 | 审核通过，获取AppID | □ 是 □ 否 | |
| 7 | 获取AppSecret（只显示一次！） | □ 是 □ 否 | 务必复制保存 |
| 8 | 配置授权回调域名 | □ 是 □ 否 | 填写你的域名 |

**微信配置信息**：
```
AppID：wx_______________
AppSecret：_______________（只显示一次，务必保存！）
授权回调域名：_______________
```

**阶段三完成标准（可选）**：
- 已完成审核并获取AppID和AppSecret ✅
- 或暂时使用Mock模式（`WECHAT_MOCK_MODE=true`） ✅

---

## 🚀 阶段四：代码部署到Vercel（30分钟）

### Vercel部署清单

| 序号 | 任务 | 是否完成 | 备注 |
|------|------|----------|------|
| 1 | 确保代码已上传到GitHub仓库 | □ 是 □ 否 | |
| 2 | 登录Vercel（使用GitHub账号） | □ 是 □ 否 | |
| 3 | 点击"Add New" → "Project" | □ 是 □ 否 | |
| 4 | 选择GitHub仓库并导入 | □ 是 □ 否 | |
| 5 | 填写项目名称（如：tomato-ai-writer） | □ 是 □ 否 | 只能包含小写字母、数字、连字符 |
| 6 | 确认框架为"Next.js" | □ 是 □ 否 | 通常自动识别 |
| 7 | 点击"Deploy"开始部署 | □ 是 □ 否 | |
| 8 | 等待部署完成（2-5分钟） | □ 是 □ 否 | 查看部署日志 |
| 9 | 保存部署成功的域名地址 | □ 是 □ 否 | 例如：https://tomato-ai-writer.vercel.app |

**Vercel域名信息**：
```
项目名称：_______________
部署地址：https://_______________.vercel.app
```

**阶段四完成标准**：项目部署成功，能够访问页面 ✅

---

## ⚙️ 阶段五：环境变量配置（15分钟）

### 在Vercel中配置环境变量

#### 进入环境变量配置

| 序号 | 任务 | 是否完成 | 备注 |
|------|------|----------|------|
| 1 | 进入Vercel项目页面 | □ 是 □ 否 | |
| 2 | 点击"Settings"标签 | □ 是 □ 否 | |
| 3 | 点击左侧"Environment Variables" | □ 是 □ 否 | |

---

#### 第一组：应用基础配置

| 变量名 | 是否已配置 | 值 |
|--------|-----------|-----|
| NEXT_PUBLIC_APP_NAME | □ 是 □ 否 | 番茄小说AI写作助手 |
| NEXT_PUBLIC_BASE_URL | □ 是 □ 否 | https://_______________.vercel.app |
| NODE_ENV | □ 是 □ 否 | production |

---

#### 第二组：JWT密钥配置

⚠️ **重要**：JWT密钥必须是强密码，建议至少32位！

| 变量名 | 是否已配置 | 值（示例） |
|--------|-----------|-----------|
| JWT_SECRET | □ 是 □ 否 | abcdefghijklmnopqrstuvwxyz1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ |
| JWT_REFRESH_SECRET | □ 是 □ 否 | different-secret-key-for-refresh-token-9876543210zyxwvutsrqponmlkjihgfedcba |

**提示**：可以使用 https://randomkeygen.com/ 生成随机密钥

---

#### 第三组：邮件服务配置（根据你选择的邮箱）

**163邮箱配置**：

| 变量名 | 是否已配置 | 值 |
|--------|-----------|-----|
| EMAIL_HOST | □ 是 □ 否 | smtp.163.com |
| EMAIL_PORT | □ 是 □ 否 | 465 |
| EMAIL_SECURE | □ 是 □ 否 | true |
| EMAIL_USER | □ 是 □ 否 | ___________@163.com |
| EMAIL_PASS | □ 是 □ 否 | ___________（16位授权码） |
| EMAIL_FROM | □ 是 □ 否 | 番茄小说AI <___________@163.com> |
| EMAIL_MOCK_MODE | □ 是 □ 否 | false |

---

**QQ邮箱配置**：

| 变量名 | 是否已配置 | 值 |
|--------|-----------|-----|
| EMAIL_HOST | □ 是 □ 否 | smtp.qq.com |
| EMAIL_PORT | □ 是 □ 否 | 465 |
| EMAIL_SECURE | □ 是 □ 否 | true |
| EMAIL_USER | □ 是 □ 否 | ___________@qq.com |
| EMAIL_PASS | □ 是 □ 否 | ___________（16位授权码） |
| EMAIL_FROM | □ 是 □ 否 | 番茄小说AI <___________@qq.com> |
| EMAIL_MOCK_MODE | □ 是 □ 否 | false |

---

**Gmail配置**：

| 变量名 | 是否已配置 | 值 |
|--------|-----------|-----|
| EMAIL_HOST | □ 是 □ 否 | smtp.gmail.com |
| EMAIL_PORT | □ 是 □ 否 | 587 |
| EMAIL_SECURE | □ 是 □ 否 | false |
| EMAIL_USER | □ 是 □ 否 | ___________@gmail.com |
| EMAIL_PASS | □ 是 □ 否 | ___________（16位应用专用密码，不要空格） |
| EMAIL_FROM | □ 是 □ 否 | 番茄小说AI <___________@gmail.com> |
| EMAIL_MOCK_MODE | □ 是 □ 否 | false |

---

#### 第四组：微信登录配置

**方案A：使用真实微信登录（已获取AppID和AppSecret）**：

| 变量名 | 是否已配置 | 值 |
|--------|-----------|-----|
| WECHAT_APPID | □ 是 □ 否 | wx_______________ |
| WECHAT_SECRET | □ 是 □ 否 | ___________（AppSecret，只显示一次） |
| WECHAT_MOCK_MODE | □ 是 □ 否 | false |
| WECHAT_REDIRECT_URI | □ 是 □ 否 | https://_______________.vercel.app/api/auth/wechat/callback |

---

**方案B：使用Mock模式（未获取AppID和AppSecret）**：

| 变量名 | 是否已配置 | 值 |
|--------|-----------|-----|
| WECHAT_MOCK_MODE | □ 是 □ 否 | true |

---

#### 保存并重新部署

| 序号 | 任务 | 是否完成 | 备注 |
|------|------|----------|------|
| 1 | 点击"Save"保存所有环境变量 | □ 是 □ 否 | |
| 2 | 进入"Deployments"页面 | □ 是 □ 否 | |
| 3 | 选择最新部署记录 | □ 是 □ 否 | |
| 4 | 点击"..." → "Redeploy" | □ 是 □ 否 | |
| 5 | 等待重新部署完成（2-5分钟） | □ 是 □ 否 | |

**阶段五完成标准**：所有必需的环境变量已配置，项目重新部署成功 ✅

---

## ✅ 阶段六：功能测试验证（30分钟）

### 测试清单

#### 基础功能测试

| 序号 | 测试项 | 测试方法 | 预期结果 | 是否通过 |
|------|--------|----------|----------|----------|
| 1 | 网站访问 | 打开你的域名 | 页面正常加载，无错误 | □ 是 □ 否 |
| 2 | 用户注册 | 注册新账号 | 注册成功，收到验证邮件 | □ 是 □ 否 |
| 3 | 邮箱验证 | 点击邮件中的验证链接 | 验证成功 | □ 是 □ 否 |
| 4 | 用户登录 | 使用注册的账号登录 | 登录成功，进入工作区 | □ 是 □ 否 |
| 5 | 密码重置 | 请求密码重置邮件 | 收到重置邮件，可以重置 | □ 是 □ 否 |

---

#### 邮件功能测试

| 序号 | 测试项 | 测试方法 | 预期结果 | 是否通过 |
|------|--------|----------|----------|----------|
| 1 | 注册验证邮件 | 注册新账号 | 收到验证邮件 | □ 是 □ 否 |
| 2 | 密码重置邮件 | 点击"忘记密码" | 收到重置邮件 | □ 是 □ 否 |
| 3 | 邮件内容检查 | 打开收到的邮件 | 邮件内容正确，链接有效 | □ 是 □ 否 |

**如果邮件测试失败**：
- 检查环境变量 `EMAIL_MOCK_MODE` 是否为 `false`
- 检查 `EMAIL_PASS` 是否正确（是授权码，不是邮箱密码）
- 查看Vercel部署日志中的错误信息

---

#### 微信登录测试

| 序号 | 测试项 | 测试方法 | 预期结果 | 是否通过 |
|------|--------|----------|----------|----------|
| 1 | Mock模式登录 | `WECHAT_MOCK_MODE=true`时点击微信登录 | 模拟登录成功 | □ 是 □ 否 |
| 2 | 真实模式登录 | `WECHAT_MOCK_MODE=false`时扫码登录 | 微信授权成功，登录系统 | □ 是 □ 否 |

**如果微信登录测试失败**：
- 检查 `WECHAT_APPID` 和 `WECHAT_SECRET` 是否正确
- 检查 `WECHAT_REDIRECT_URI` 是否与微信开放平台配置一致
- 确认回调域名已在微信开放平台配置

---

#### AI功能测试

| 序号 | 测试项 | 测试方法 | 预期结果 | 是否通过 |
|------|--------|----------|----------|----------|
| 1 | AI章节撰写 | 填写章节信息并生成 | AI生成内容正常显示 | □ 是 □ 否 |
| 2 | AI精修润色 | 输入文本进行润色 | AI返回润色后的文本 | □ 是 □ 否 |
| 3 | AI智能续写 | 输入上文进行续写 | AI返回续写内容 | □ 是 □ 否 |

**如果AI功能测试失败**：
- 检查Vercel部署日志中的错误信息
- 确认豆包集成服务是否正常
- 尝试在非高峰时段使用

---

### 测试结果统计

**基础功能**：通过 ___ / 5
**邮件功能**：通过 ___ / 3
**微信登录**：通过 ___ / 2
**AI功能**：通过 ___ / 3

**总计**：通过 ___ / 13

**阶段六完成标准**：所有测试项都通过 ✅

---

## 📋 完整配置信息汇总

### 保存以下信息，以备后续使用

#### 账号信息

```
GitHub用户名：_______________
GitHub邮箱：_______________
Vercel邮箱：_______________
邮箱账号：_______________
邮箱授权码：_______________
豆包手机号：_______________
微信AppID：wx_______________
微信AppSecret：_______________
```

#### 域名信息

```
Vercel项目名称：_______________
Vercel默认域名：https://_______________.vercel.app
微信回调域名：_______________
```

#### JWT密钥信息

```
JWT_SECRET：_______________（妥善保管，不要泄露）
JWT_REFRESH_SECRET：_______________（妥善保管，不要泄露）
```

---

## 🎯 最终验证清单

在宣布配置完成前，请确认以下所有项都已勾选：

### 前置准备

- [ ] GitHub账号已注册
- [ ] Vercel账号已注册（使用GitHub登录）
- [ ] 邮箱账号已准备（163/QQ/Gmail三选一）
- [ ] 豆包账号已注册
- [ ] 微信开放平台账号已注册

### 邮件服务

- [ ] 邮箱授权码已获取
- [ ] 邮件环境变量已配置（EMAIL_HOST、EMAIL_PORT、EMAIL_SECURE、EMAIL_USER、EMAIL_PASS、EMAIL_FROM）
- [ ] `EMAIL_MOCK_MODE` 已设置为 `false`

### 微信登录

- [ ] 微信开放平台应用已申请并审核通过（或使用Mock模式）
- [ ] `WECHAT_APPID` 和 `WECHAT_SECRET` 已配置（Mock模式下可跳过）
- [ ] `WECHAT_REDIRECT_URI` 已配置
- [ ] `WECHAT_MOCK_MODE` 已正确设置（真实模式为false，Mock模式为true）

### Vercel部署

- [ ] 项目已成功部署到Vercel
- [ ] 部署地址可以正常访问
- [ ] 所有必需的环境变量都已配置
- [ ] 配置环境变量后已重新部署

### 功能测试

- [ ] 网站可以正常访问
- [ ] 用户注册功能正常
- [ ] 邮箱验证功能正常
- [ ] 用户登录功能正常
- [ ] 邮件发送功能正常
- [ ] 微信登录功能正常（Mock或真实）
- [ ] AI章节撰写功能正常
- [ ] AI精修润色功能正常
- [ ] AI智能续写功能正常

### 配置完整性

- [ ] 所有敏感信息都已妥善保存（不会泄露）
- [ ] 已阅读并理解使用指南
- [ ] 已阅读并了解常见问题解答

---

## 🎉 配置完成

恭喜！如果你完成了以上所有检查项，那么番茄小说AI写作工具已经成功部署并可以正常使用了！

### 下一步

1. **开始使用**：访问你的域名，开始使用AI写作功能
2. **阅读文档**：查看 `docs/` 目录下的使用指南和API文档
3. **加入社区**：加入项目的QQ群/微信群，获取更多帮助
4. **反馈问题**：如果遇到问题，在GitHub提交Issue

### 需要帮助？

- **详细教程**：查看 `docs/ZERO_COST_DEPLOYMENT_GUIDE.md`
- **使用指南**：查看 `docs/USAGE_GUIDE.md`
- **API文档**：查看 `docs/API_DOCUMENTATION.md`
- **常见问题**：在部署指南的"常见问题解答"部分查找答案

---

**检查清单版本**：v1.0
**适用版本**：番茄小说AI写作工具 v1.0
**最后更新时间**：2025年1月
