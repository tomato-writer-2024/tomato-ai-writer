# 0成本部署 - 快速开始指引

> 不会代码的个人开发者也能轻松部署番茄小说AI写作工具！
>
> **总成本**：0元（全部使用免费服务）
> **预计耗时**：2-3小时（大部分时间等待微信审核）

---

## 📚 文档导航

根据你的需求选择合适的文档：

### 📖 **完整部署指南（推荐首次阅读）**

**文档**：`docs/ZERO_COST_DEPLOYMENT_GUIDE.md`

**适合人群**：
- 第一次部署项目的用户
- 需要详细了解每个步骤的用户
- 遇到问题需要排查的用户

**包含内容**：
- 详细的账号注册步骤
- 邮件服务配置（163/QQ/Gmail）
- 微信登录申请流程
- Vercel部署步骤
- 环境变量配置详解
- 功能测试验证
- 常见问题解答

**阅读时间**：30-60分钟

---

### ✅ **配置检查清单（部署时使用）**

**文档**：`docs/DEPLOYMENT_CHECKLIST.md`

**适合人群**：
- 正在进行部署的用户
- 需要逐项检查配置的用户
- 验证部署是否完成的用户

**包含内容**：
- 阶段一：前置准备（账号注册）
- 阶段二：邮件服务配置
- 阶段三：微信登录配置
- 阶段四：Vercel部署
- 阶段五：环境变量配置
- 阶段六：功能测试验证

**使用方式**：
- 边部署边勾选完成项
- 确保每个步骤都正确完成
- 最终验证所有功能正常

---

## 🚀 快速上手（5分钟了解流程）

### 整体流程图

```
1. 注册账号（30分钟）
   ↓
2. 配置邮件服务（20分钟）
   ↓
3. 申请微信登录（1-3天）
   ↓
4. 部署到Vercel（30分钟）
   ↓
5. 配置环境变量（15分钟）
   ↓
6. 功能测试验证（30分钟）
```

---

### 需要准备的东西

#### 1️⃣ 必备账号（全部免费）

| 账号 | 用途 | 注册地址 | 耗时 |
|------|------|----------|------|
| GitHub | 代码托管和Vercel登录 | https://github.com | 5分钟 |
| Vercel | 免费部署网站 | https://vercel.com | 5分钟 |
| 163/QQ/Gmail邮箱 | 发送邮件 | 任选其一 | 5分钟 |
| 豆包 | AI写作功能 | https://www.doubao.com | 5分钟 |
| 微信开放平台 | 微信登录 | https://open.weixin.qq.com | 10分钟 |

**总计**：约30分钟

---

#### 2️⃣ 需要获取的信息

**邮件服务配置**：
```
邮箱地址：your_email@163.com
SMTP服务器：smtp.163.com
端口：465
授权码：___________（16位，不是邮箱密码！）
```

**微信登录配置**：
```
AppID：wx___________
AppSecret：___________（只显示一次，务必保存！）
回调域名：tomato-ai-writer.vercel.app
```

**JWT密钥配置**：
```
JWT_SECRET：___________（至少32位随机字符串）
JWT_REFRESH_SECRET：___________（至少32位随机字符串）
```

**部署域名**：
```
Vercel默认域名：https://tomato-ai-writer.vercel.app
```

---

## 💡 推荐操作流程

### 方案A：快速上线（推荐）

**适合**：想要快速上线，微信登录功能可以稍后完善

**步骤**：
1. 注册所有账号（30分钟）
2. 配置邮件服务（20分钟）
3. 部署到Vercel（30分钟）
4. 配置环境变量（邮件功能使用真实模式，微信登录使用Mock模式）（15分钟）
5. 测试验证（30分钟）

**总计**：约2小时

**说明**：
- 先上线核心功能（用户注册、登录、AI写作）
- 微信登录暂时使用Mock模式（用户点击微信登录按钮后，自动模拟登录成功）
- 等微信审核通过后，再切换到真实微信登录

---

### 方案B：完整配置

**适合**：想要一次性完成所有配置

**步骤**：
1. 注册所有账号（30分钟）
2. 配置邮件服务（20分钟）
3. 申请微信开放平台应用（等待审核1-3天）
4. 审核通过后，获取AppID和AppSecret
5. 部署到Vercel（30分钟）
6. 配置环境变量（邮件和微信都使用真实模式）（15分钟）
7. 测试验证（30分钟）

**总计**：约2-3天（大部分时间等待审核）

---

## 📋 关键步骤提醒

### ⚠️ 重要提示

1. **邮箱授权码只能查看一次**
   - 163邮箱、QQ邮箱、Gmail的授权码/应用专用密码只能在首次查看时看到
   - 如果忘记，需要重新生成（旧的会失效）
   - 务必复制保存！

2. **微信AppSecret只能查看一次**
   - 微信AppSecret只能在首次查看时看到
   - 如果忘记，需要重置（旧的会失效）
   - 务必复制保存！

3. **JWT密钥必须是强密码**
   - 建议至少32位
   - 不要使用简单的密码
   - 可以使用在线密码生成器：https://randomkeygen.com/

4. **环境变量配置后必须重新部署**
   - 在Vercel中添加或修改环境变量后
   - 必须重新部署项目才能生效
   - 进入Deployments → 选择最新部署 → "..." → Redeploy

5. **微信回调域名必须一致**
   - 在微信开放平台配置的授权回调域名
   - 必须与Vercel中 `WECHAT_REDIRECT_URI` 环境变量的域名一致
   - 不要添加协议前缀（http://）或路径

---

### ✅ 成功标准

部署成功后，你应该能够：

- [ ] 在浏览器访问你的Vercel域名（如 `https://tomato-ai-writer.vercel.app`）
- [ ] 正常注册新用户账号
- [ ] 收到验证邮件
- [ ] 点击邮件中的验证链接，成功验证邮箱
- [ ] 使用注册的账号登录系统
- [ ] 点击"忘记密码"，收到密码重置邮件
- [ ] 点击微信登录按钮（Mock模式自动登录，真实模式扫码登录）
- [ ] 使用AI章节撰写功能
- [ ] 使用AI精修润色功能
- [ ] 使用AI智能续写功能

---

## 🔧 常见问题快速解答

### Q：完全不懂代码，能完成部署吗？

**A**：完全可以！本指南专为不会代码的个人开发者编写，所有步骤都有详细说明，只需要按照步骤操作即可。

---

### Q：整个流程需要花钱吗？

**A**：不需要！所有服务都是免费的（GitHub、Vercel、163/QQ/Gmail邮箱、微信开放平台、豆包AI）。总成本：0元。

---

### Q：可以使用手机完成部署吗？

**A**：建议使用电脑，因为需要操作GitHub、配置环境变量、使用浏览器开发者工具（F12）。

---

### Q：微信审核需要多长时间？

**A**：通常为1-3个工作日。如果着急上线，可以先使用Mock模式，等审核通过后再切换。

---

### Q：邮件发送失败怎么办？

**A**：
1. 检查 `EMAIL_MOCK_MODE` 是否为 `false`
2. 检查 `EMAIL_PASS` 是否正确（是授权码，不是邮箱密码）
3. 查看Vercel部署日志（Deployments → 点击部署记录 → Functions → Logs）

---

### Q：微信登录失败怎么办？

**A**：
1. 检查 `WECHAT_APPID` 和 `WECHAT_SECRET` 是否正确
2. 检查 `WECHAT_REDIRECT_URI` 是否与微信开放平台配置一致
3. 确认回调域名已在微信开放平台配置

---

### Q：Vercel部署失败怎么办？

**A**：
1. 查看Vercel部署日志（Deployments → 点击部署记录）
2. 常见错误：环境变量未配置、代码有语法错误、依赖安装失败
3. 根据错误信息修复问题，重新部署

---

## 📞 获取更多帮助

### 文档资源

| 文档 | 说明 | 路径 |
|------|------|------|
| 完整部署指南 | 详细的部署步骤和常见问题解答 | `docs/ZERO_COST_DEPLOYMENT_GUIDE.md` |
| 配置检查清单 | 逐项检查配置是否完成 | `docs/DEPLOYMENT_CHECKLIST.md` |
| 使用指南 | 工具使用教程 | `docs/USAGE_GUIDE.md` |
| API文档 | API接口文档 | `docs/API_DOCUMENTATION.md` |

---

### 联系方式

- **GitHub Issues**：提交问题并获取帮助（推荐）
- **QQ群/微信群**：加入项目社区，与其他用户交流
- **邮件联系**：发送邮件给项目维护者

---

## 🎯 开始部署

准备好了吗？选择以下一种方式开始：

### 方式一：完整学习（推荐首次用户）

1. 打开 `docs/ZERO_COST_DEPLOYMENT_GUIDE.md`
2. 阅读完整的部署指南（30-60分钟）
3. 按照步骤逐个完成
4. 使用 `docs/DEPLOYMENT_CHECKLIST.md` 验证每个阶段

---

### 方式二：边做边学

1. 打开 `docs/DEPLOYMENT_CHECKLIST.md`
2. 边看边操作，逐项勾选完成
3. 遇到问题时，查阅 `docs/ZERO_COST_DEPLOYMENT_GUIDE.md` 中的详细说明

---

### 方式三：快速上线（先上线再完善）

1. 注册账号（30分钟）
2. 配置邮件服务（20分钟）
3. 部署到Vercel（30分钟）
4. 配置环境变量：
   - 邮件功能：使用真实模式（`EMAIL_MOCK_MODE=false`）
   - 微信登录：使用Mock模式（`WECHAT_MOCK_MODE=true`）
5. 测试验证（30分钟）
6. 等微信审核通过后，切换到真实微信登录

---

## ✨ 祝你部署成功！

如果在部署过程中遇到任何问题，请随时查阅详细文档或联系开发者获取帮助。

记住：**0成本、不花钱、完全免费！**

---

**快速指引版本**：v1.0
**适用版本**：番茄小说AI写作工具 v1.0
**最后更新时间**：2025年1月
