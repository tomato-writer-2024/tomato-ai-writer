# Vercel部署验证指南

## 快速验证步骤

### 1. 访问主站
**URL**: https://tomato-ai-writer.vercel.app

**预期结果**:
- ✅ 页面正常加载
- ✅ 显示"番茄AI写作助手"首页
- ✅ 左侧导航栏可见
- ✅ 核心功能卡片显示

**如果失败**:
- 检查浏览器控制台（按F12）
- 查看Console标签是否有红色错误
- 查看Network标签是否有失败请求

### 2. 访问诊断页面
**URL**: https://tomato-ai-writer.vercel.app/debug

**预期结果**:
- ✅ 显示系统检查列表
- ✅ 所有检查项显示绿色✓
- ✅ 显示环境信息

**诊断页面功能**:
- React加载检查
- Next.js数据检查
- Tailwind CSS检查
- 路由系统检查

### 3. 测试主要功能

#### 首页测试
1. 点击"开始创作"按钮 → 应跳转到 `/workspace`
2. 点击"快速体验"按钮 → 应跳转到 `/templates`
3. 点击功能卡片 → 应跳转到对应页面

#### 导航测试
1. 点击侧边栏"工作台" → `/workspace`
2. 点击"章节撰写" → `/works`
3. 点击"对话写作" → `/dialogue`
4. 点击"精修润色" → `/editor-review`
5. 点击"智能续写" → `/continue`
6. 点击"爆款拆解" → `/explosive-analyze`
7. 点击"素材库" → `/materials`
8. 点击"写作模板" → `/templates`

### 4. 检查浏览器控制台

#### 如何打开控制台
- Windows: `F12` 或 `Ctrl+Shift+I`
- Mac: `Cmd+Option+I`

#### 检查内容

**Console标签**
- 查找红色错误信息
- 查找警告信息
- 复制错误消息以便分析

**Network标签**
- 刷新页面
- 查找失败的请求（红色）
- 检查请求状态码（应为200）

**Application标签**
- Local Storage: 检查是否有数据
- Session Storage: 检查是否有数据
- Cookies: 检查是否有认证信息

### 5. 硬刷新缓存

#### Windows/Linux
- `Ctrl + Shift + R`
- 或 `Ctrl + F5`

#### Mac
- `Cmd + Shift + R`

#### 移动端
- 关闭浏览器重新打开
- 清除浏览器缓存

## 常见问题排查

### 问题1: 页面白屏
**可能原因**:
1. JavaScript执行错误
2. 样式加载失败
3. 网络连接问题

**解决方法**:
1. 检查浏览器控制台错误
2. 访问诊断页面
3. 尝试硬刷新
4. 检查网络连接

### 问题2: 样式错乱
**可能原因**:
1. Tailwind CSS未加载
2. 浏览器兼容性问题
3. 缓存问题

**解决方法**:
1. 硬刷新页面
2. 清除浏览器缓存
3. 尝试其他浏览器

### 问题3: 路由跳转失败
**可能原因**:
1. 路由未正确注册
2. Next.js构建问题
3. 客户端路由错误

**解决方法**:
1. 检查诊断页面
2. 查看控制台错误
3. 等待Vercel部署完成

### 问题4: API请求失败
**可能原因**:
1. 环境变量未配置
2. 数据库连接失败
3. 服务器错误

**解决方法**:
1. 检查Vercel环境变量
2. 查看Network标签请求详情
3. 等待部署完成

## 性能检查

### 页面加载时间
- **目标**: < 3秒
- **检查**: Network标签 -> Timing

### Lighthouse评分
- **Performance**: > 90
- **Accessibility**: > 90
- **Best Practices**: > 90
- **SEO**: > 90

### 运行方法
1. 打开开发者工具（F12）
2. 点击Lighthouse标签
3. 点击"Analyze page load"
4. 查看评分报告

## 部署状态检查

### Vercel Dashboard
**URL**: https://vercel.com/tomato-writer-2024/tomato-ai-writer

**检查内容**:
1. 部署状态（绿色✓表示成功）
2. 构建日志（查看是否有错误）
3. 域名配置（是否正确绑定）
4. 环境变量（是否完整配置）

### 环境变量检查

**必需的环境变量**:
- `DATABASE_URL` - 数据库连接URL
- `JWT_SECRET` - JWT密钥
- `COZE_BUCKET_ENDPOINT` - 对象存储端点
- `COZE_BUCKET_ACCESS_KEY` - 对象存储访问密钥
- `COZE_BUCKET_SECRET_KEY` - 对象存储密钥

**可选的环境变量**:
- `NEXT_PUBLIC_APP_URL` - 应用URL
- `SMTP_HOST` - 邮件服务器
- `SMTP_USER` - 邮件用户
- `SMTP_PASS` - 邮件密码

## 日志收集

### 如果需要进一步帮助，请提供以下信息：

1. **浏览器信息**
   - 浏览器名称和版本
   - 操作系统
   - 访问时间

2. **错误信息**
   - Console标签的错误截图
   - Network标签的失败请求详情
   - 诊断页面的检查结果

3. **访问URL**
   - 访问的完整URL
   - 访问时间
   - 期望看到的内容

4. **截图**
   - 页面截图
   - 控制台错误截图
   - 网络请求截图

## 技术支持

### 报告问题格式

```
**问题描述**:
[简要描述问题]

**访问URL**:
[完整的URL]

**浏览器信息**:
[浏览器名称/版本]

**错误信息**:
[复制粘贴控制台错误]

**截图**:
[粘贴截图或上传]

**复现步骤**:
1. [步骤1]
2. [步骤2]
3. [步骤3]
```

### 快速联系
- 提供详细的错误日志
- 包含截图和复现步骤
- 说明预期结果和实际结果

## 验证清单

- [ ] 首页可以正常访问
- [ ] 诊断页面显示所有检查通过
- [ ] 导航栏可以正常点击
- [ ] 所有功能卡片可以正常跳转
- [ ] 浏览器控制台无红色错误
- [ ] Network标签无失败请求
- [ ] 页面样式显示正常
- [ ] 页面加载时间<3秒
- [ ] 移动端适配正常

---

**最后更新**: 2025年1月13日 17:00 (UTC+8)
