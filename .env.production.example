# ============================================================================
# 番茄小说AI写作工具 - 生产环境配置模板
# ============================================================================
# 使用说明：
# 1. 复制本文件为 .env.local
# 2. 修改标有 [必填] 的配置项
# 3. 标有 [可选] 的配置项可以根据需要填写
# ============================================================================

# ============================================================================
# 应用基础配置
# ============================================================================

# 应用名称
NEXT_PUBLIC_APP_NAME=番茄小说AI写作助手

# 应用域名 [必填]
# 本地开发环境: http://localhost:5000
# 生产环境: https://yourdomain.com
NEXT_PUBLIC_BASE_URL=http://localhost:5000

# 环境模式
NODE_ENV=production

# ============================================================================
# 数据库配置
# ============================================================================
# 使用PostgreSQL集成服务，自动配置

# PostgreSQL数据库连接字符串（自动配置，无需修改）
DATABASE_URL=postgresql://postgres:password@localhost:5432/tomato_ai

# ============================================================================
# JWT密钥配置 [必填]
# ============================================================================

# JWT访问Token密钥 [必填]
# 使用在线生成器生成32位以上的随机字符串：
# https://www.uuidgenerator.net/api/guid
JWT_SECRET=your-super-secret-jwt-key-change-me-in-production-at-least-32-chars

# JWT刷新Token密钥 [必填]
JWT_REFRESH_SECRET=your-super-secret-refresh-token-key-change-me-in-production-at-least-32-chars

# ============================================================================
# 邮件服务配置 [可选]
# ============================================================================
# 如果不配置邮件服务，系统将自动使用Mock模式

# SMTP服务器地址
EMAIL_HOST=smtp.163.com

# SMTP端口
EMAIL_PORT=465

# 是否使用SSL加密
EMAIL_SECURE=true

# 邮箱账号
EMAIL_USER=your_email@163.com

# 邮箱授权码（不是登录密码！）
EMAIL_PASS=your_email_authorization_code_here

# 发件人地址
EMAIL_FROM=番茄小说AI <your_email@163.com>

# Mock模式开关
# true=模拟发送（开发测试用）
# false=真实发送（生产环境必须设为false）
EMAIL_MOCK_MODE=false

# ============================================================================
# 豆包大模型配置 [必填]
# ============================================================================

# 豆包大模型API Key [必填]
# 获取方式：
# 1. 访问 https://www.volcengine.com/
# 2. 注册账号并完成实名认证
# 3. 登录控制台，搜索"豆包"
# 4. 开通豆包大模型服务（新用户免费）
# 5. 在"API密钥管理"中创建并复制API Key
DOUBAO_API_KEY=ak-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# 豆包模型选择
# 可选模型：
#   - doubao-pro-4k：Pro版，4K上下文（推荐，质量高）
#   - doubao-pro-32k：Pro版，32K上下文（适合长篇）
#   - doubao-pro-128k：Pro版，128K上下文（适合超长篇）
#   - doubao-lite-4k：Lite版，4K上下文（快速响应）
DOUBAO_MODEL=doubao-pro-4k

# ============================================================================
# 对象存储配置
# ============================================================================
# 使用S3集成服务，自动配置

# S3兼容存储端点
S3_ENDPOINT=https://s3.amazonaws.com

# S3访问密钥ID
S3_ACCESS_KEY=your-s3-access-key-id

# S3访问密钥密码
S3_SECRET_KEY=your-s3-secret-key

# S3存储桶名称
S3_BUCKET=your-bucket-name

# S3存储区域
S3_REGION=us-east-1

# ============================================================================
# 文件上传配置
# ============================================================================

# 最大文件上传大小（10MB）
MAX_FILE_SIZE=10485760

# 允许的文件类型
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ============================================================================
# 安全配置
# ============================================================================

# 密码重置Token有效期（分钟）
RESET_TOKEN_EXPIRES_IN=30

# 访问Token有效期（小时）
ACCESS_TOKEN_EXPIRES_IN=24

# 刷新Token有效期（天）
REFRESH_TOKEN_EXPIRES_IN=7

# 密码最小长度
PASSWORD_MIN_LENGTH=8

# ============================================================================
# 限流配置
# ============================================================================

# 每小时最大请求次数
RATE_LIMIT_MAX_REQUESTS_PER_HOUR=100

# API请求限流窗口（秒）
RATE_LIMIT_WINDOW_SECONDS=3600

# ============================================================================
# 支付配置
# ============================================================================

# 支付成功后的跳转地址
PAYMENT_SUCCESS_REDIRECT=/workspace

# 支付失败后的跳转地址
PAYMENT_FAILED_REDIRECT=/payment?failed=true

# ============================================================================
# 日志配置
# ============================================================================

# 日志级别（error/warn/info/debug）
LOG_LEVEL=info

# 是否启用详细日志
ENABLE_VERBOSE_LOGGING=false
