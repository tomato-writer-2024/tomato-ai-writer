# 番茄小说AI写作工具 - 快速开始指南

> **5分钟快速配置，小白也能轻松上手**

---

## 🚀 三步快速开始

### 第1步：获取豆包API Key（必需，1分钟）

1. 访问火山引擎官网：https://www.volcengine.com/
2. 注册账号并完成实名认证
3. 登录控制台，搜索"豆包"
4. 开通豆包大模型服务（新用户免费）
5. 在"API密钥管理"中创建并复制API Key

### 第2步：配置环境变量（2分钟）

打开项目根目录的 `.env.local` 文件，找到并修改以下配置：

```env
# 豆包API Key（必填，粘贴刚才复制的Key）
DOUBAO_API_KEY=ak-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# JWT密钥（必填，改为至少32位的随机字符串）
JWT_SECRET=your-super-secret-jwt-key-change-me-in-production-at-least-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-token-key-change-me-in-production-at-least-32-chars
```

**如何生成JWT密钥？**
- 访问 https://www.uuidgenerator.net/api/guid
- 复制生成的UUID字符串
- 粘贴到上面两个配置项

### 第3步：运行数据库迁移（2分钟）

在终端执行以下命令：

```bash
# 执行数据库迁移
pnpm run migrate

# 创建超级管理员账号
pnpm run init-admin
```

按照提示输入管理员信息：
- 用户名（如：admin）
- 邮箱（如：admin@example.com）
- 密码（至少8位）

---

## ✅ 测试功能

访问 http://localhost:5000，测试以下功能：

1. 使用管理员账号登录
2. 访问工作台：http://localhost:5000/workspace
3. 点击任意AI工具（如"智能续写"）
4. 输入简单内容，点击"生成"
5. 检查是否能正常生成内容

---

## 📧 可选：配置邮件服务

如果需要发送邮件（注册验证、密码重置等），请按以下步骤配置：

### 163邮箱（推荐）

1. 登录163邮箱网页版
2. 进入"设置" → "POP3/SMTP/IMAP"
3. 开启"IMAP/SMTP服务"
4. 获取授权码（不是登录密码！）

在 `.env.local` 文件中配置：

```env
EMAIL_HOST=smtp.163.com
EMAIL_PORT=465
EMAIL_SECURE=true
EMAIL_USER=your_email@163.com
EMAIL_PASS=your_163_authorization_code_here
EMAIL_FROM=番茄小说AI <your_email@163.com>
EMAIL_MOCK_MODE=false
```

### QQ邮箱

1. 登录QQ邮箱
2. 进入"设置" → "账户"
3. 开启"IMAP/SMTP服务"
4. 生成授权码

配置：

```env
EMAIL_HOST=smtp.qq.com
EMAIL_PORT=465
EMAIL_SECURE=true
EMAIL_USER=your_email@qq.com
EMAIL_PASS=your_qq_authorization_code_here
EMAIL_FROM=番茄小说AI <your_email@qq.com>
EMAIL_MOCK_MODE=false
```

**不配置邮件服务也没关系**，系统会自动使用Mock模式（模拟发送）。

---

## 🌐 部署到外网

### 使用Vercel（推荐，免费）

1. 访问 https://vercel.com/ 并注册
2. 导入你的GitHub仓库
3. 配置环境变量（从 `.env.local` 复制所有配置）
4. 修改 `NEXT_PUBLIC_BASE_URL` 为Vercel提供的域名
5. 点击"Deploy"部署
6. 部署成功后访问 `.vercel.app` 域名

详细部署步骤请参考：[配置指南.md](./配置指南.md)

---

## ❓ 常见问题

### Q1：豆包AI没有响应？

**检查**：
- API Key是否正确复制
- 火山引擎账号是否有余额
- 网络连接是否正常

### Q2：数据库迁移失败？

**检查**：
- 数据库服务是否启动
- `DATABASE_URL` 配置是否正确
- 网络连接是否正常

### Q3：邮件发送失败？

**检查**：
- SMTP配置是否正确
- 是否使用授权码（不是登录密码）
- 邮箱是否开启SMTP服务

---

## 📚 详细文档

如需更详细的配置说明，请查看：
- [完整配置指南](./配置指南.md)
- [常见问题解答](./常见问题.md)
- [部署指南](./部署指南.md)

---

## 🎯 质量指标

达成以下目标：

- ⭐ 作品质量 9.8分 +
- 🏆 番茄小说 Top3
- 📖 前三章完读率 90%+
- ⚡ AI首字响应时间 < 1秒

---

**祝你成功！** 🎉
